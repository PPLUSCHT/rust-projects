<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>LBM</title>
  </head>
  <body>
    <script type="module">
      import init, {run, WASMInteraction, SummaryStat, ColorMap, ClickType, Resolution} from "/pkg/lbm_web_gpu.js";
      await init();
      console.log(window.devicePixelRatio);
      run(window.devicePixelRatio, Resolution.UHD, 1000, 500);

    //   function setCurl(){
    //     WASMInteraction.set_output(SummaryStat.Curl);
    //   }

    //   function setEquilibrium(){
    //     WASMInteraction.reset_to_equilibrium();
    //   }

    //   function setUX(){
    //     WASMInteraction.set_output(SummaryStat.Ux);
    //   }
    //   function setUY(){
    //     WASMInteraction.set_output(SummaryStat.Uy);
    //   }

    //   function setRho(){
    //     WASMInteraction.set_output(SummaryStat.Rho);
    //   }

    //   function setViridis(){
    //     WASMInteraction.set_color_map(ColorMap.Viridis);
    //   }
      
    //   function setInferno(){
    //     WASMInteraction.set_color_map(ColorMap.Inferno);
    //   }

    //   function setJet(){
    //     WASMInteraction.set_color_map(ColorMap.Jet);
    //   }

    //   function setInactive(){
    //     WASMInteraction.set_draw_type(ClickType.Inactive);
    //   }

    //   function setDraw(){
    //     WASMInteraction.set_draw_type(ClickType.Draw);
    //   }

    //   function setErase(){
    //     WASMInteraction.set_draw_type(ClickType.Erase);
    //   }

    //   function setLine(){
    //     WASMInteraction.set_draw_type(ClickType.Line);
    //   }

    //   function undo(){
    //     WASMInteraction.undo();
    //   }

    //   function change(){
    //     WASMInteraction.resize(Math.floor(x_dim.value), Math.floor(y_dim.value));
    //   }

    //   const curl = document.getElementById("curl-button");
    //   const Ux = document.getElementById("Ux-button");
    //   const Uy = document.getElementById("Uy-button");
    //   const Rho = document.getElementById("Rho-button");
    //   const Equilibrium = document.getElementById("Equilibrium");

    //   const inactive = document.getElementById("Inactive");
    //   const erase = document.getElementById("Erase");
    //   const draw = document.getElementById("Draw");
    //   const line = document.getElementById("Line");

    //   const viridis = document.getElementById("Viridis");
    //   const inferno = document.getElementById("Inferno");
    //   const jet = document.getElementById("Jet");

    //   const pause = document.getElementById("Pause");
    //   const slider = document.getElementById("ComputeRatio");
    //   const viscosity_slider = document.getElementById("Viscosity");
    //   const undo_b = document.getElementById("undo");

    //   const x_dim = document.getElementById("x_dim");
    //   const y_dim = document.getElementById("y_dim");
    //   const run_b = document.getElementById("run");

    //   curl.addEventListener("click", setCurl);
    //   Ux.addEventListener("click", setUX);
    //   Uy.addEventListener("click", setUY);
    //   Rho.addEventListener("click", setRho);

    //   inactive.addEventListener("click", setInactive);
    //   erase.addEventListener("click", setErase);
    //   draw.addEventListener("click", setDraw);
    //   line.addEventListener("click", setLine);
    //   undo_b.addEventListener("click", undo);

    //   Equilibrium.addEventListener("click", setEquilibrium);

    //   viridis.addEventListener("click", setViridis);
    //   inferno.addEventListener("click", setInferno);
    //   jet.addEventListener("click", setJet);

    //   pause.addEventListener("click", WASMInteraction.toggle_pause);
    //   slider.onchange = function() {
    //     console.log(this.value);
    //     WASMInteraction.update_compute_rate(Math.floor(this.value));
    //   }
    //   viscosity_slider.onchange = function(){
    //     WASMInteraction.update_viscosity(this.value);
    //   }
    //   run_b.addEventListener("click", change);
    // </script>
    <!-- <div>
      <button id="curl-button">Curl</button>
      <button id="Ux-button">Ux</button>
      <button id="Uy-button">Uy</button>
      <button id="Rho-button">Rho</button>

      <button id="Inactive">Inactive</button>
      <button id="Draw">Draw</button>
      <button id="Erase">Erase</button>
      <button id="Line">Line</button>

      <button id="Viridis">Viridis</button>
      <button id="Inferno">Inferno</button>
      <button id="Equilibrium">Equilibrium</button>
      <button id="Jet">Jet</button>

      <button id="undo">Undo</button>
      <button id="Pause">Pause</button>
      <input type="range" min="1" max="30" value="15" class="slider" id="ComputeRatio">
      <input type="range" min="0.005" max="0.5" value="0.1" class="slider" id="Viscosity" step="0.01">
      <input type="number" id="x_dim">
      <input type="number" id="y_dim">
      <button id="run">Run</button>
    </div> -->

  </body>
</html>